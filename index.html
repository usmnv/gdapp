<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Golden Dragon</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --bg-color: var(--tg-theme-bg-color, #ffffff);
            --text-color: var(--tg-theme-text-color, #000000);
            --hint-color: var(--tg-theme-hint-color, #999999);
            --button-color: var(--tg-theme-button-color, #40a7e3);
            --button-text-color: var(--tg-theme-button-text-color, #ffffff);
            --secondary-bg-color: var(--tg-theme-secondary-bg-color, #f4f4f5);
            --accent-color: #d4af37;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 16px;
            padding-bottom: 80px;
            line-height: 1.5;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .header h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .customer-code {
            background: var(--secondary-bg-color);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }
        .card {
            background-color: var(--secondary-bg-color);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
        }
        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .stats-grid {
            display: flex;
            gap: 12px;
            margin: 20px 0;
        }
        .stat-item {
            flex: 1;
            background: var(--bg-color);
            border-radius: 16px;
            padding: 16px 8px;
            text-align: center;
        }
        .stat-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        .stat-value {
            font-size: 22px;
            font-weight: 700;
        }
        .stat-label {
            font-size: 12px;
            color: var(--hint-color);
        }
        .button {
            background-color: var(--button-color);
            color: var(--button-text-color);
            border: none;
            border-radius: 14px;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            cursor: pointer;
            transition: opacity 0.2s;
            margin-top: 16px;
        }
        .button:hover {
            opacity: 0.9;
        }
        .currency-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
        }
        .currency-table th {
            text-align: left;
            padding: 12px 8px;
            color: var(--hint-color);
            font-weight: 500;
            font-size: 14px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .currency-table td {
            padding: 12px 8px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .currency-flag {
            font-size: 20px;
            margin-right: 8px;
        }
        .tab-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--bg-color);
            border-top: 1px solid rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-around;
            padding: 10px 0 12px;
            backdrop-filter: blur(10px);
            z-index: 10;
        }
        .tab-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: var(--hint-color);
            font-size: 12px;
            cursor: pointer;
            transition: color 0.2s;
            flex: 1;
        }
        .tab-item.active {
            color: var(--button-color);
        }
        .tab-icon {
            font-size: 24px;
        }
        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        .service-card {
            background: var(--secondary-bg-color);
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            transition: transform 0.1s;
        }
        .service-card:active {
            transform: scale(0.98);
        }
        .service-icon {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--accent-color);
        }
        .service-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        .service-desc {
            font-size: 13px;
            color: var(--hint-color);
        }
        .input-group {
            margin-bottom: 16px;
        }
        .input-label {
            display: block;
            font-size: 14px;
            color: var(--hint-color);
            margin-bottom: 6px;
        }
        .input-field, .input-select {
            width: 100%;
            padding: 16px;
            border: 1px solid rgba(0,0,0,0.05);
            border-radius: 16px;
            font-size: 16px;
            background: var(--bg-color);
            color: var(--text-color);
        }
        .input-select {
            appearance: none;
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2'><polyline points='6 9 12 15 18 9'/></svg>");
            background-repeat: no-repeat;
            background-position: right 16px center;
        }
        .converter-block {
            background: var(--secondary-bg-color);
            border-radius: 20px;
            padding: 20px;
            margin-top: 16px;
        }
        .converter-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        .converter-amount {
            flex: 2;
        }
        .converter-currency {
            flex: 1;
        }
        .converter-equal {
            text-align: center;
            font-size: 20px;
            color: var(--hint-color);
            margin: 8px 0;
        }
        .profile-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }
        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            background: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            cursor: pointer;
        }
        .profile-info h2 {
            font-size: 22px;
            font-weight: 600;
        }
        .profile-info p {
            color: var(--hint-color);
        }
        .profile-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        .profile-grid-item {
            background: var(--secondary-bg-color);
            border-radius: 16px;
            padding: 16px 8px;
            text-align: center;
            cursor: pointer;
        }
        .profile-grid-item i {
            font-size: 24px;
            color: var(--accent-color);
            margin-bottom: 8px;
        }
        .profile-grid-item span {
            display: block;
            font-weight: 600;
        }
        .profile-menu-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background: var(--secondary-bg-color);
            border-radius: 16px;
            margin-bottom: 8px;
            cursor: pointer;
        }
        .profile-menu-item i {
            width: 24px;
            font-size: 18px;
            color: var(--accent-color);
            margin-right: 16px;
        }
        .support-section {
            margin-top: 24px;
        }
        .support-title {
            font-weight: 600;
            margin-bottom: 12px;
        }
        .back-button {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            cursor: pointer;
            color: var(--button-color);
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .page-content {
            display: none;
        }
        .page-content.active {
            display: block;
        }
        .currency-switch {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }
        .currency-switch button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 30px;
            background: var(--secondary-bg-color);
            color: var(--text-color);
            font-weight: 600;
            cursor: pointer;
        }
        .currency-switch button.active {
            background: var(--button-color);
            color: var(--button-text-color);
        }
        .avatar-selector {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin: 20px 0;
        }
        .avatar-option {
            width: 70px;
            height: 70px;
            border-radius: 35px;
            background: var(--secondary-bg-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            border: 3px solid transparent;
        }
        .avatar-option.selected {
            border-color: var(--button-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üêâ Golden Dragon</h1>
            <div class="customer-code" id="customerCode">GD-1234</div>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è -->
        <div id="homeTab" class="tab-content active">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <span style="font-size: 20px; font-weight: 600;" id="greeting">üëã –ü—Ä–∏–≤–µ—Ç, –ö–ª–∏–µ–Ω—Ç!</span>
                    <span style="color: var(--hint-color);">–ë–∞–ª–∞–Ω—Å: <strong id="balance">12500 ‚ÇΩ</strong></span>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-value" id="ordersCount">3</div>
                        <div class="stat-label">–ó–∞–∫–∞–∑—ã</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-value" id="deliveredCount">1</div>
                        <div class="stat-label">–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-value" id="usdRate">95</div>
                        <div class="stat-label">USD</div>
                    </div>
                </div>
                <button class="button" id="myOrdersBtn">üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
            </div>
            <div class="card">
                <div class="card-title">üí± –ö—É—Ä—Å –≤–∞–ª—é—Ç</div>
                <table class="currency-table">
                    <thead><tr><th>–í–∞–ª—é—Ç–∞</th><th>–ü–æ–∫—É–ø–∫–∞</th><th>–ü—Ä–æ–¥–∞–∂–∞</th></tr></thead>
                    <tbody id="currencyRatesTable"></tbody>
                </table>
            </div>
        </div>

        <!-- –£—Å–ª—É–≥–∏ (–º–µ–Ω—é) -->
        <div id="servicesTab" class="tab-content">
            <h2 style="margin-bottom: 16px;">üöö –ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
            <div class="services-grid" id="servicesGrid"></div>
        </div>

        <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
        <div id="calcTab" class="tab-content">
            <h2 style="margin-bottom: 16px;">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
            <div class="card">
                <div class="input-group">
                    <label class="input-label">–°—Ç—Ä–∞–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                    <select class="input-select" id="deliveryCountry">
                        <option value="ru">–†–æ—Å—Å–∏—è</option>
                        <option value="tj">–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω</option>
                        <option value="kz">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</option>
                        <option value="uz">–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">–¢–∏–ø —Ç–æ–≤–∞—Ä–∞</label>
                    <select class="input-select" id="goodsType">
                        <option value="1.0">–û–±—ã—á–Ω—ã–π (1.0x)</option>
                        <option value="1.2">–•—Ä—É–ø–∫–∏–π (1.2x)</option>
                        <option value="0.9">–û–¥–µ–∂–¥–∞ (0.9x)</option>
                        <option value="1.5">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ (1.5x)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">–í–µ—Å (–∫–≥)</label>
                    <input type="number" class="input-field" id="weight" value="5" step="0.1">
                </div>
                <div class="input-group">
                    <label class="input-label">–û–±—ä—ë–º (–º¬≥) - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</label>
                    <input type="number" class="input-field" id="volume" step="0.01">
                </div>
                <div class="input-group">
                    <label class="input-label">–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                    <select class="input-select" id="deliveryMethod">
                        <option value="avia">–ê–≤–∏–∞</option>
                        <option value="auto">–ê–≤—Ç–æ</option>
                        <option value="rail">–ñ/–î</option>
                    </select>
                </div>
                <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <input type="checkbox" id="insurance"> <span>–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ (+5$)</span>
                </label>
                <button class="button" onclick="calculateDelivery()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <div id="calcResult" style="margin-top: 20px; font-size: 20px; font-weight: 700; text-align: center;"></div>
            </div>
        </div>

        <!-- –í–∞–ª—é—Ç–∞ (—Ç–∞–±–ª–∏—Ü–∞ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä) -->
        <div id="currencyTab" class="tab-content">
            <div class="currency-switch">
                <button id="showRatesBtn" class="active">–í–∞–ª—é—Ç—ã</button>
                <button id="showConverterBtn">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</button>
            </div>
            <div id="ratesSection">
                <div class="card" style="max-height: 400px; overflow-y: auto;">
                    <table class="currency-table">
                        <thead><tr><th>–í–∞–ª—é—Ç–∞</th><th>–ü–æ–∫—É–ø–∫–∞</th><th>–ü—Ä–æ–¥–∞–∂–∞</th></tr></thead>
                        <tbody id="allRatesTable"></tbody>
                    </table>
                </div>
            </div>
            <div id="converterSection" style="display: none;">
                <div class="converter-block">
                    <div class="converter-row">
                        <div class="converter-amount">
                            <label class="input-label">–£ –≤–∞—Å –µ—Å—Ç—å</label>
                            <input type="number" id="fromAmount" class="input-field" value="1" step="0.01">
                        </div>
                        <div class="converter-currency">
                            <label class="input-label">–í–∞–ª—é—Ç–∞</label>
                            <select id="fromCurrency" class="input-select"></select>
                        </div>
                    </div>
                    <div class="converter-equal">‚âà</div>
                    <div class="converter-row">
                        <div class="converter-amount">
                            <label class="input-label">–£ –≤–∞—Å –±—É–¥–µ—Ç</label>
                            <input type="number" id="toAmount" class="input-field" readonly value="0">
                        </div>
                        <div class="converter-currency">
                            <label class="input-label">–í–∞–ª—é—Ç–∞</label>
                            <select id="toCurrency" class="input-select"></select>
                        </div>
                    </div>
                    <p id="converterRate" style="text-align: center; margin-top: 16px; color: var(--hint-color);"></p>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ -->
        <div id="profileTab" class="tab-content">
            <!-- –ú–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è -->
            <div id="profileMenu" class="page-content active">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">üë§</div>
                    <div class="profile-info">
                        <h2 id="profileName">usmnv</h2>
                        <p id="profileCode">1180975</p>
                    </div>
                </div>
                <div class="profile-grid">
                    <div class="profile-grid-item" data-page="orders"><i class="fas fa-box"></i><span>–ó–∞–∫–∞–∑—ã</span></div>
                    <div class="profile-grid-item" data-page="history"><i class="fas fa-history"></i><span>–ò—Å—Ç–æ—Ä–∏—è</span></div>
                    <div class="profile-grid-item" data-page="account"><i class="fas fa-wallet"></i><span>–°—á–µ—Ç</span></div>
                </div>
                <div class="profile-menu-item" data-page="pickup"><i class="fas fa-map-marker-alt"></i> –ü—É–Ω–∫—Ç—ã –≤—ã–¥–∞—á–∏</div>
                <div class="profile-menu-item" data-page="calculator"><i class="fas fa-calculator"></i> –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
                <div class="profile-menu-item" data-page="settings"><i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                <div class="support-section">
                    <div class="support-title">–¶–µ–Ω—Ç—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏</div>
                    <div class="profile-menu-item" data-page="contact"><i class="fas fa-headset"></i> –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</div>
                    <div class="profile-menu-item" data-page="prohibited"><i class="fas fa-ban"></i> –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã</div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª—è -->
            <div id="ordersPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
                <div class="card">–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤ (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–µ–∫–µ–Ω–¥—É).</div>
            </div>
            <div id="historyPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üìä –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
                <div class="card">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏—Å—Ç–æ—Ä–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π –∏ –ø–ª–∞—Ç–µ–∂–µ–π.</div>
            </div>
            <div id="accountPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üí∞ –°—á–µ—Ç</h2>
                <div class="card">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: <strong id="accountBalance">12500 ‚ÇΩ</strong></div>
            </div>
            <div id="pickupPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üìç –ü—É–Ω–∫—Ç—ã –≤—ã–¥–∞—á–∏</h2>
                <div id="pickupList" class="card"></div>
            </div>
            <div id="calculatorPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
                <div class="card">(–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞)</div>
            </div>
            <div id="settingsPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <div class="card">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div class="profile-avatar" id="settingsAvatar" style="width: 80px; height: 80px; font-size: 40px; margin: 0 auto;">üë§</div>
                        <div class="avatar-selector">
                            <div class="avatar-option" data-avatar="üë§" onclick="selectAvatar('üë§')">üë§</div>
                            <div class="avatar-option" data-avatar="üê±" onclick="selectAvatar('üê±')">üê±</div>
                            <div class="avatar-option" data-avatar="ü¶ä" onclick="selectAvatar('ü¶ä')">ü¶ä</div>
                            <div class="avatar-option" data-avatar="üêº" onclick="selectAvatar('üêº')">üêº</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="input-label">–ò–º—è</label>
                        <input type="text" id="settingsName" class="input-field" value="usmnv">
                    </div>
                    <div class="input-group">
                        <label class="input-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                        <input type="tel" id="settingsPhone" class="input-field" value="+7 999 123 45 67" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä">
                    </div>
                    <div class="input-group">
                        <label class="input-label">–†–µ–≥–∏–æ–Ω (—Å—Ç—Ä–∞–Ω–∞)</label>
                        <select id="settingsCountry" class="input-select">
                            <option value="ru">–†–æ—Å—Å–∏—è</option>
                            <option value="tj">–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω</option>
                            <option value="kz">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</option>
                            <option value="uz">–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω</option>
                        </select>
                    </div>
                    <button class="button" onclick="saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
            <div id="contactPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</h2>
                <div class="card" id="contactInfo"></div>
            </div>
            <div id="prohibitedPage" class="page-content">
                <div class="back-button" onclick="showProfileMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥</div>
                <h2>üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã</h2>
                <div class="card" id="prohibitedList"></div>
            </div>
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —É—Å–ª—É–≥ -->
            <div id="serviceDetailPage" class="page-content">
                <div class="back-button" onclick="showServicesMenu()"><i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ —É—Å–ª—É–≥–∞–º</div>
                <h2 id="serviceDetailTitle"></h2>
                <div class="card" id="serviceDetailDesc"></div>
            </div>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="tab-bar">
        <div class="tab-item active" data-tab="home"><span class="tab-icon">üè†</span><span>–ì–ª–∞–≤–Ω–∞—è</span></div>
        <div class="tab-item" data-tab="services"><span class="tab-icon">üì¶</span><span>–£—Å–ª—É–≥–∏</span></div>
        <div class="tab-item" data-tab="calc"><span class="tab-icon">üßÆ</span><span>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span></div>
        <div class="tab-item" data-tab="currency"><span class="tab-icon">üí±</span><span>–í–∞–ª—é—Ç–∞</span></div>
        <div class="tab-item" data-tab="profile"><span class="tab-icon">üë§</span><span>–ü—Ä–æ—Ñ–∏–ª—å</span></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Telegram Web App
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.expand();
                Telegram.WebApp.ready();
            }

            // ---------- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–∑ localStorage –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ----------
            let userData = {
                firstName: localStorage.getItem('userName') || '–ö–ª–∏–µ–Ω—Ç',
                customerCode: 'GD-1234',
                balance: 12500,
                ordersCount: 3,
                deliveredCount: 1,
                avatar: localStorage.getItem('userAvatar') || 'üë§',
                phone: localStorage.getItem('userPhone') || '+7 999 123 45 67',
                country: localStorage.getItem('userCountry') || 'ru'
            };

            // ---------- –í–∞–ª—é—Ç—ã ----------
            const mainCurrencies = [
                { code: 'USD', flag: 'üá∫üá∏', name: 'USD', buy: 9.39, sell: 9.48 },
                { code: 'RUB', flag: 'üá∑üá∫', name: 'RUB', buy: 0.1212, sell: 0.1236 },
                { code: 'CNY', flag: 'üá®üá≥', name: 'CNY', buy: 1.3369, sell: 1.3992 }
            ];
            const allCurrencies = [
                { code: 'USD', flag: 'üá∫üá∏', name: 'USD', buy: 9.39, sell: 9.48 },
                { code: 'EUR', flag: 'üá™üá∫', name: 'EUR', buy: 11.02, sell: 11.24 },
                { code: 'CNY', flag: 'üá®üá≥', name: 'CNY', buy: 1.3369, sell: 1.3992 },
                { code: 'RUB', flag: 'üá∑üá∫', name: 'RUB', buy: 0.1212, sell: 0.1236 },
                { code: 'KZT', flag: 'üá∞üáø', name: 'KZT', buy: 0.1866, sell: 0.1953 },
                { code: 'UZS', flag: 'üá∫üáø', name: 'UZS', buy: 0.075, sell: 0.0785 },
                { code: 'TJS', flag: 'üáπüáØ', name: 'TJS', buy: 8.5, sell: 8.7 }
            ];

            // ---------- –£—Å–ª—É–≥–∏ ----------
            const services = [
                { icon: '‚úàÔ∏è', title: '–ê–≤–∏–∞ –¥–æ—Å—Ç–∞–≤–∫–∞', desc: '–ë—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ', fullDesc: '–ê–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑–∫–∞ –≥—Ä—É–∑–æ–≤ –æ—Ç 3 –¥–æ 7 –¥–Ω–µ–π. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ –Ω–æ–º–µ—Ä—É –Ω–∞–∫–ª–∞–¥–Ω–æ–π.' },
                { icon: 'üöõ', title: '–ê–≤—Ç–æ –∫–∞—Ä–≥–æ', desc: '–û–ø—Ç–∏–º–∞–ª—å–Ω–æ –ø–æ —Ü–µ–Ω–µ', fullDesc: '–ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ—Ç 14 –¥–æ 21 –¥–Ω—è. –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø–∞—Ä—Ç–∏–π. –í–æ–∑–º–æ–∂–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ "–æ—Ç –¥–≤–µ—Ä–∏ –¥–æ –¥–≤–µ—Ä–∏".' },
                { icon: 'üö¢', title: '–ú–æ—Ä—Å–∫–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞', desc: '–î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤', fullDesc: '–ú–æ—Ä—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ—Ç 30 –¥–Ω–µ–π. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø–∞—Ä—Ç–∏–π —Ç–æ–≤–∞—Ä–æ–≤. –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –≥—Ä—É–∑–æ–≤ –≤ –ø–æ—Ä—Ç—É.' },
                { icon: 'üöÜ', title: '–ñ–î –¥–æ—Å—Ç–∞–≤–∫–∞', desc: '–°—Ç–∞–±–∏–ª—å–Ω–æ –∏ –≤—ã–≥–æ–¥–Ω–æ', fullDesc: '–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ—Ç 10 –¥–æ 15 –¥–Ω–µ–π. –°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Ä–æ–∫–∏ –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.' },
                { icon: 'üìÑ', title: '–ë–µ–ª–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞', desc: '–° –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π', fullDesc: '–ü–æ–ª–Ω–æ–µ —Ç–∞–º–æ–∂–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ, –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è. –†–∞–±–æ—Ç–∞–µ–º —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º–∏ –ª–∏—Ü–∞–º–∏.' },
                { icon: 'üì¶', title: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç', desc: '–•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è', fullDesc: '–ü—Ä–∏—ë–º, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, —É–ø–∞–∫–æ–≤–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–¥ –∫–ª—é—á. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏.' },
                { icon: '‚ö°', title: '–≠–∫—Å–ø—Ä–µ—Å—Å –¥–æ—Å—Ç–∞–≤–∫–∞', desc: '–î–æ–∫—É–º–µ–Ω—Ç–æ–≤', fullDesc: '–°—Ä–æ—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –º–µ–ª–∫–∏—Ö –≥—Ä—É–∑–æ–≤ (1-2 –¥–Ω—è). –ö—É—Ä—å–µ—Ä—Å–∫–∞—è —Å–ª—É–∂–±–∞.' },
                { icon: 'üí∏', title: '–¢—Ä–∞–Ω—Å—Ñ–µ—Ä —Å—Ä–µ–¥—Å—Ç–≤', desc: '–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º', fullDesc: '–ü–µ—Ä–µ–≤–æ–¥—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º –≤ –ö–∏—Ç–∞–µ, –∫–æ–º–∏—Å—Å–∏—è 1%. –ë—ã—Å—Ç—Ä—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.' },
                { icon: 'üè≠', title: '–°–∫–ª–∞–¥ –≤ –ò—É', desc: '–ü—Ä–∏—ë–º –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä—É–∑–æ–≤', fullDesc: '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ 5 –¥–Ω–µ–π, –ø—Ä–∏—ë–º–∫–∞ –∏ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –≥—Ä—É–∑–æ–≤. –§–æ—Ç–æ–æ—Ç—á—ë—Ç –ø–æ –∑–∞–ø—Ä–æ—Å—É.' },
                { icon: 'üõí', title: '–í—ã–∫—É–ø —Ç–æ–≤–∞—Ä–æ–≤', desc: '1688 / Alibaba / Taobao', fullDesc: '–ü–æ–º–æ—â—å –≤ –≤—ã–∫—É–ø–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∏—Ç–∞–π—Å–∫–∏—Ö –ø–ª–æ—â–∞–¥–æ–∫. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.' },
                { icon: 'üì¶‚ú®', title: '–£–ø–∞–∫–æ–≤–∫–∞', desc: '–§–æ—Ç–æ –∏ –≤–∏–¥–µ–æ –æ—Ç—á—ë—Ç', fullDesc: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞, —Ñ–æ—Ç–æ- –∏ –≤–∏–¥–µ–æ—Ñ–∏–∫—Å–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.' },
                { icon: 'üîç', title: '–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å', desc: '–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≥—Ä—É–∑–æ–º', fullDesc: 'Online‚Äë–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞.' }
            ];

            // ---------- –ü—É–Ω–∫—Ç—ã –≤—ã–¥–∞—á–∏ ----------
            const pickupPoints = {
                ru: ['–ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 1', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–µ–≤—Å–∫–∏–π –ø—Ä., 22', '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –ö—Ä–∞—Å–Ω—ã–π –ø—Ä., 50'],
                tj: ['–î—É—à–∞–Ω–±–µ, –ø—Ä. –†—É–¥–∞–∫–∏, 10', '–•—É–¥–∂–∞–Ω–¥, —É–ª. –õ–µ–Ω–∏–Ω–∞, 5'],
                kz: ['–ê–ª–º–∞—Ç—ã, –ø—Ä. –ê–±–∞—è, 100', '–ù—É—Ä-–°—É–ª—Ç–∞–Ω, —É–ª. –ö–∞–±–∞–Ω–±–∞–π –±–∞—Ç—ã—Ä–∞, 15'],
                uz: ['–¢–∞—à–∫–µ–Ω—Ç, —É–ª. –ê–º–∏—Ä–∞ –¢–µ–º—É—Ä–∞, 30', '–°–∞–º–∞—Ä–∫–∞–Ω–¥, —É–ª. –†–µ–≥–∏—Å—Ç–∞–Ω, 2']
            };

            // ---------- –ö–æ–Ω—Ç–∞–∫—Ç—ã ----------
            const contacts = {
                phone: '+7 (800) 123-45-67',
                email: 'support@golden-dragon.com',
                workTime: '–ü–Ω-–ü—Ç 9:00-21:00 –ú–°–ö',
                chat: '@goldendragon_support'
            };

            // ---------- –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã ----------
            const prohibitedItems = [
                '–û—Ä—É–∂–∏–µ –∏ –±–æ–µ–ø—Ä–∏–ø–∞—Å—ã',
                '–ù–∞—Ä–∫–æ—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ—â–µ—Å—Ç–≤–∞',
                '–í–∑—Ä—ã–≤—á–∞—Ç—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞',
                '–Ø–¥–æ–≤–∏—Ç—ã–µ –∏ —Ä–∞–¥–∏–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
                '–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–ª–ª—ã –≤ —Å–ª–∏—Ç–∫–∞—Ö',
                '–ñ–∏–≤—ã–µ –∂–∏–≤–æ—Ç–Ω—ã–µ (–∫—Ä–æ–º–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π)',
                '–°–∫–æ—Ä–æ–ø–æ—Ä—Ç—è—â–∏–µ—Å—è –ø—Ä–æ–¥—É–∫—Ç—ã –±–µ–∑ —É–ø–∞–∫–æ–≤–∫–∏',
                '–ê–ª–∫–æ–≥–æ–ª—å –∏ —Ç–∞–±–∞–∫ —Å–≤–µ—Ä—Ö –Ω–æ—Ä–º—ã',
                '–õ–µ–∫–∞—Ä—Å—Ç–≤–∞ –±–µ–∑ —Ä–µ—Ü–µ–ø—Ç–∞',
                '–î–µ–Ω—å–≥–∏ –∏ —Ü–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏'
            ];

            // ---------- –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ----------
            const customerCodeEl = document.getElementById('customerCode');
            const greetingEl = document.getElementById('greeting');
            const balanceEl = document.getElementById('balance');
            const ordersCountEl = document.getElementById('ordersCount');
            const deliveredCountEl = document.getElementById('deliveredCount');
            const profileNameEl = document.getElementById('profileName');
            const profileCodeEl = document.getElementById('profileCode');
            const profileAvatarEl = document.getElementById('profileAvatar');
            const settingsAvatarEl = document.getElementById('settingsAvatar');
            const accountBalanceEl = document.getElementById('accountBalance');
            const settingsNameEl = document.getElementById('settingsName');
            const settingsPhoneEl = document.getElementById('settingsPhone');
            const settingsCountryEl = document.getElementById('settingsCountry');

            function updateUserUI() {
                if (greetingEl) greetingEl.innerHTML = `üëã –ü—Ä–∏–≤–µ—Ç, ${userData.firstName}!`;
                if (customerCodeEl) customerCodeEl.innerText = userData.customerCode;
                if (balanceEl) balanceEl.innerText = userData.balance + ' ‚ÇΩ';
                if (ordersCountEl) ordersCountEl.innerText = userData.ordersCount;
                if (deliveredCountEl) deliveredCountEl.innerText = userData.deliveredCount;
                if (profileNameEl) profileNameEl.innerText = userData.firstName;
                if (profileCodeEl) profileCodeEl.innerText = userData.customerCode;
                if (profileAvatarEl) profileAvatarEl.innerText = userData.avatar;
                if (settingsAvatarEl) settingsAvatarEl.innerText = userData.avatar;
                if (accountBalanceEl) accountBalanceEl.innerText = userData.balance + ' ‚ÇΩ';
                if (settingsNameEl) settingsNameEl.value = userData.firstName;
                if (settingsPhoneEl) settingsPhoneEl.value = userData.phone;
                if (settingsCountryEl) settingsCountryEl.value = userData.country;

                document.querySelectorAll('.avatar-option').forEach(opt => {
                    if (opt.dataset.avatar === userData.avatar) {
                        opt.classList.add('selected');
                    } else {
                        opt.classList.remove('selected');
                    }
                });
            }

            // ---------- –†–µ–Ω–¥–µ—Ä –≤–∞–ª—é—Ç–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü ----------
            function renderCurrencyTables() {
                const ratesTable = document.getElementById('currencyRatesTable');
                if (ratesTable) {
                    ratesTable.innerHTML = mainCurrencies.map(c => 
                        `<tr><td><span class="currency-flag">${c.flag}</span> ${c.name}</td><td>${c.buy}</td><td>${c.sell}</td></tr>`
                    ).join('');
                }

                const allRatesTable = document.getElementById('allRatesTable');
                if (allRatesTable) {
                    allRatesTable.innerHTML = allCurrencies.map(c => 
                        `<tr><td><span class="currency-flag">${c.flag}</span> ${c.name}</td><td>${c.buy}</td><td>${c.sell}</td></tr>`
                    ).join('');
                }

                const fromSelect = document.getElementById('fromCurrency');
                const toSelect = document.getElementById('toCurrency');
                if (fromSelect && toSelect) {
                    fromSelect.innerHTML = allCurrencies.map(c => 
                        `<option value="${c.sell}" data-code="${c.code}">${c.flag} ${c.code}</option>`
                    ).join('');
                    toSelect.innerHTML = allCurrencies.map(c => 
                        `<option value="${c.sell}" data-code="${c.code}">${c.flag} ${c.code}</option>`
                    ).join('');
                    fromSelect.value = allCurrencies.find(c => c.code === 'USD').sell;
                    toSelect.value = allCurrencies.find(c => c.code === 'EUR').sell;
                    updateConverter();
                }
            }

            // ---------- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ª—É–≥ ----------
            const servicesGrid = document.getElementById('servicesGrid');
            if (servicesGrid) {
                services.forEach(s => {
                    const card = document.createElement('div');
                    card.className = 'service-card';
                    card.innerHTML = `
                        <div class="service-icon">${s.icon}</div>
                        <div class="service-title">${s.title}</div>
                        <div class="service-desc">${s.desc}</div>
                    `;
                    card.addEventListener('click', () => {
                        showServiceDetail(s.title, s.fullDesc);
                    });
                    servicesGrid.appendChild(card);
                });
            }

            // ---------- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ª—É–≥–∏ ----------
            window.showServicesMenu = function() {
                document.querySelectorAll('#profileTab .page-content').forEach(p => p.classList.remove('active'));
                document.getElementById('profileMenu').classList.add('active');
                // –ï—Å–ª–∏ –º—ã –Ω–∞ –≤–∫–ª–∞–¥–∫–µ —É—Å–ª—É–≥, –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é —É—Å–ª—É–≥
                if (document.getElementById('servicesTab').classList.contains('active')) {
                    // –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º, –º—ã —É–∂–µ –≤ —É—Å–ª—É–≥–∞—Ö
                } else {
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É —É—Å–ª—É–≥
                    document.querySelector('.tab-item[data-tab="services"]').click();
                }
            };

            window.showServiceDetail = function(title, desc) {
                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É –ø—Ä–æ—Ñ–∏–ª—è, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥–∏
                document.querySelector('.tab-item[data-tab="profile"]').click();
                document.querySelectorAll('#profileTab .page-content').forEach(p => p.classList.remove('active'));
                const detailPage = document.getElementById('serviceDetailPage');
                if (detailPage) {
                    detailPage.classList.add('active');
                    document.getElementById('serviceDetailTitle').innerText = title;
                    document.getElementById('serviceDetailDesc').innerText = desc;
                }
            };

            // ---------- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤ ----------
            const tabs = document.querySelectorAll('.tab-item');
            const contents = {
                home: document.getElementById('homeTab'),
                services: document.getElementById('servicesTab'),
                calc: document.getElementById('calcTab'),
                currency: document.getElementById('currencyTab'),
                profile: document.getElementById('profileTab')
            };
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    Object.values(contents).forEach(c => {
                        if (c) c.classList.remove('active');
                    });
                    if (contents[tabId]) contents[tabId].classList.add('active');
                    if (tabId === 'profile') showProfileMenu();
                });
            });

            // ---------- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–æ—Ñ–∏–ª—è ----------
            window.showProfileMenu = function() {
                document.querySelectorAll('#profileTab .page-content').forEach(p => p.classList.remove('active'));
                const profileMenu = document.getElementById('profileMenu');
                if (profileMenu) profileMenu.classList.add('active');
            };

            window.showProfilePage = function(pageId) {
                document.querySelectorAll('#profileTab .page-content').forEach(p => p.classList.remove('active'));
                const page = document.getElementById(pageId);
                if (page) page.classList.add('active');
            };

            // –ö–ª–∏–∫–∏ –ø–æ –ø—É–Ω–∫—Ç–∞–º –ø—Ä–æ—Ñ–∏–ª—è
            document.querySelectorAll('[data-page]').forEach(el => {
                el.addEventListener('click', function(e) {
                    const page = this.dataset.page;
                    if (page === 'calculator') {
                        document.querySelector('.tab-item[data-tab="calc"]').click();
                        return;
                    }
                    showProfilePage(page + 'Page');
                    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
                    if (page === 'pickup') {
                        const country = userData.country;
                        const points = pickupPoints[country] || pickupPoints.ru;
                        const list = document.getElementById('pickupList');
                        if (list) list.innerHTML = points.map(p => `<div>üìç ${p}</div>`).join('');
                    } else if (page === 'contact') {
                        const info = document.getElementById('contactInfo');
                        if (info) {
                            info.innerHTML = `
                                üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${contacts.phone}<br>
                                üìß Email: ${contacts.email}<br>
                                ‚è∞ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: ${contacts.workTime}<br>
                                üí¨ –ß–∞—Ç: ${contacts.chat}
                            `;
                        }
                    } else if (page === 'prohibited') {
                        const list = document.getElementById('prohibitedList');
                        if (list) list.innerHTML = prohibitedItems.map(item => `<div>üö´ ${item}</div>`).join('');
                    }
                });
            });

            // ---------- –ö–Ω–æ–ø–∫–∞ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã" ----------
            const myOrdersBtn = document.getElementById('myOrdersBtn');
            if (myOrdersBtn) {
                myOrdersBtn.addEventListener('click', function() {
                    document.querySelector('.tab-item[data-tab="profile"]').click();
                    showProfilePage('ordersPage');
                });
            }

            // ---------- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –≤–∞–ª—é—Ç ----------
            const showRatesBtn = document.getElementById('showRatesBtn');
            const showConverterBtn = document.getElementById('showConverterBtn');
            const ratesSection = document.getElementById('ratesSection');
            const converterSection = document.getElementById('converterSection');

            if (showRatesBtn && showConverterBtn && ratesSection && converterSection) {
                showRatesBtn.addEventListener('click', function() {
                    showRatesBtn.classList.add('active');
                    showConverterBtn.classList.remove('active');
                    ratesSection.style.display = 'block';
                    converterSection.style.display = 'none';
                });
                showConverterBtn.addEventListener('click', function() {
                    showConverterBtn.classList.add('active');
                    showRatesBtn.classList.remove('active');
                    ratesSection.style.display = 'none';
                    converterSection.style.display = 'block';
                });
            }

            // ---------- –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç ----------
            function updateConverter() {
                const fromAmount = document.getElementById('fromAmount');
                const fromCurrency = document.getElementById('fromCurrency');
                const toCurrency = document.getElementById('toCurrency');
                const toAmount = document.getElementById('toAmount');
                const converterRate = document.getElementById('converterRate');
                if (!fromAmount || !fromCurrency || !toCurrency || !toAmount || !converterRate) return;
                const fromVal = parseFloat(fromAmount.value) || 0;
                const fromRate = parseFloat(fromCurrency.value) || 1;
                const toRate = parseFloat(toCurrency.value) || 1;
                const result = (fromVal * fromRate) / toRate;
                toAmount.value = result.toFixed(2);
                const fromCode = fromCurrency.selectedOptions[0]?.dataset.code || '?';
                const toCode = toCurrency.selectedOptions[0]?.dataset.code || '?';
                converterRate.innerText = `1 ${fromCode} = ${(fromRate/toRate).toFixed(4)} ${toCode}`;
            }
            const fromAmount = document.getElementById('fromAmount');
            const fromCurrency = document.getElementById('fromCurrency');
            const toCurrency = document.getElementById('toCurrency');
            if (fromAmount) fromAmount.addEventListener('input', updateConverter);
            if (fromCurrency) fromCurrency.addEventListener('change', updateConverter);
            if (toCurrency) toCurrency.addEventListener('change', updateConverter);
            updateConverter();

            // ---------- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏ ----------
            window.calculateDelivery = function() {
                const country = document.getElementById('deliveryCountry');
                const goodsType = document.getElementById('goodsType');
                const weight = document.getElementById('weight');
                const volume = document.getElementById('volume');
                const method = document.getElementById('deliveryMethod');
                const insurance = document.getElementById('insurance');
                const calcResult = document.getElementById('calcResult');

                if (!country || !goodsType || !weight || !volume || !method || !insurance || !calcResult) return;

                const countryVal = country.value;
                const goodsTypeVal = parseFloat(goodsType.value) || 1;
                const weightVal = parseFloat(weight.value) || 0;
                const volumeVal = parseFloat(volume.value) || 0;
                const methodVal = method.value;
                const insuranceVal = insurance.checked ? 5 : 0;

                let basePrice = 5;
                if (countryVal === 'tj') basePrice = 6;
                else if (countryVal === 'kz') basePrice = 4.5;
                else if (countryVal === 'uz') basePrice = 5.5;

                let methodCoeff = 1;
                if (methodVal === 'avia') methodCoeff = 2;
                else if (methodVal === 'rail') methodCoeff = 1.2;

                let total = weightVal * basePrice * goodsTypeVal * methodCoeff + volumeVal * 20 + insuranceVal;
                calcResult.innerHTML = `üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: ${total.toFixed(2)} $`;
            };

            // ---------- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∞–≤–∞—Ç–∞—Ä, –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, —Å—Ç—Ä–∞–Ω–∞) ----------
            window.selectAvatar = function(avatar) {
                userData.avatar = avatar;
                localStorage.setItem('userAvatar', avatar);
                document.querySelectorAll('.avatar-option').forEach(opt => opt.classList.remove('selected'));
                if (event.target) event.target.classList.add('selected');
                if (profileAvatarEl) profileAvatarEl.innerText = avatar;
                if (settingsAvatarEl) settingsAvatarEl.innerText = avatar;
            };

            window.saveSettings = function() {
                const newName = settingsNameEl ? settingsNameEl.value.trim() : '';
                const newPhone = settingsPhoneEl ? settingsPhoneEl.value.trim() : '';
                const newCountry = settingsCountryEl ? settingsCountryEl.value : 'ru';
                if (newName) {
                    userData.firstName = newName;
                    localStorage.setItem('userName', newName);
                }
                if (newPhone) {
                    userData.phone = newPhone;
                    localStorage.setItem('userPhone', newPhone);
                }
                userData.country = newCountry;
                localStorage.setItem('userCountry', newCountry);
                updateUserUI();
                alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
                showProfileMenu();
            };

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            renderCurrencyTables();
            updateUserUI();
        });
    </script>
</body>
</html>